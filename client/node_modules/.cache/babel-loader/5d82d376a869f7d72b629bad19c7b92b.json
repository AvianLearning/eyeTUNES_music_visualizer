{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/maria/Desktop/codeclan/codeclan_work/week_15_JS_React_Project/music_visualizer/client/src/components/KeyVisual.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport anime from 'animejs';\nimport './KeyVisual.css';\nimport { useState, useEffect } from 'react';\nimport React from 'react';\nconst StyledKeyVisual = styled.div.attrs(props => {\n  return {\n    style: {\n      backgroundColor: '#' + props.color\n    }\n  };\n})`\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    margin: auto;\n    margin-top: 10vh;\n    z-index: 1;\n    grid-area: dot;\n    align-items: center;\n`;\n_c = StyledKeyVisual;\nconst distance = 150;\nconst variance = 80;\nconst directionalTranslates = [{\n  x: 0,\n  y: 0\n}, {\n  x: 0,\n  y: 1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: 1,\n  y: 0\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 0,\n  y: -1\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: -1,\n  y: 0\n}, {\n  x: -1,\n  y: 1\n}];\n\nconst KeyVisual = ({\n  color,\n  playState,\n  padKey\n}) => {\n  _s();\n\n  const [animations, setAnimations] = useState(null);\n  const [circles, setCircles] = useState([]);\n\n  const createCircles = () => {\n    let newCircles = [];\n    directionalTranslates.forEach((translation, i) => {\n      newCircles = [...newCircles, /*#__PURE__*/_jsxDEV(StyledKeyVisual, {\n        color: color,\n        playState: playState,\n        className: `${padKey}-visual-${i}`\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 42\n      }, this)];\n    });\n    setCircles(newCircles);\n  };\n\n  useEffect(() => {\n    let newAnimations = [];\n    directionalTranslates.forEach((translation, i) => {\n      newAnimations = [...newAnimations, anime({\n        targets: `div.${padKey}-visual-${i}`,\n        autoplay: false,\n        // backgroundColor: invert('#'+color).padStart(6,\"0\"),\n        borderRadius: '15%',\n        translateY: [{\n          value: translation.y * (distance + Math.floor(Math.random() * variance)),\n          duration: 400\n        }],\n        translateX: [{\n          value: translation.x * (distance + Math.floor(Math.random() * variance)),\n          duration: 400\n        }],\n        scale: [1, 4],\n        opacity: [{\n          value: '0%',\n          duration: 0\n        }, {\n          value: '100%',\n          duration: 45\n        }, {\n          value: '30%',\n          duration: 75\n        }, {\n          value: '500%',\n          duration: 165\n        }, {\n          value: '100%',\n          duration: 77\n        }, {\n          value: '0%',\n          duration: 6\n        }],\n        direction: 'alternate',\n        easing: 'easeOutBounce'\n      })];\n    });\n    setAnimations(newAnimations);\n  }, [circles]);\n  useEffect(() => {\n    if (playState) {\n      console.log(animations);\n      animations.forEach(animation => {\n        animation.restart();\n        animation.play();\n      });\n    }\n  }, [playState]);\n  useEffect(() => {\n    createCircles();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animation-container fireworks\",\n      children: circles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(KeyVisual, \"BCAWr7fUTnG21xrUrja1DNHkheU=\");\n\n_c2 = KeyVisual;\nexport default KeyVisual;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledKeyVisual\");\n$RefreshReg$(_c2, \"KeyVisual\");","map":{"version":3,"sources":["/Users/maria/Desktop/codeclan/codeclan_work/week_15_JS_React_Project/music_visualizer/client/src/components/KeyVisual.js"],"names":["styled","anime","useState","useEffect","React","StyledKeyVisual","div","attrs","props","style","backgroundColor","color","distance","variance","directionalTranslates","x","y","KeyVisual","playState","padKey","animations","setAnimations","circles","setCircles","createCircles","newCircles","forEach","translation","i","newAnimations","targets","autoplay","borderRadius","translateY","value","Math","floor","random","duration","translateX","scale","opacity","direction","easing","console","log","animation","restart","play"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport anime from 'animejs';\nimport './KeyVisual.css'\nimport { useState, useEffect } from 'react';\nimport React from 'react'\n\nconst StyledKeyVisual = styled.div.attrs(props => {\n    return {\n        style:{\n            backgroundColor: '#'+props.color\n        }\n    }\n})`\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    margin: auto;\n    margin-top: 10vh;\n    z-index: 1;\n    grid-area: dot;\n    align-items: center;\n`\n\nconst distance = 150;\nconst variance = 80;\nconst directionalTranslates = [\n    {\n        x: 0,\n        y: 0\n    },\n    {\n        x: 0,\n        y: 1\n    },\n    {\n        x: 1,\n        y: 1\n    },\n    {\n        x: 1,\n        y: 0\n    },\n    {\n        x: 1,\n        y: -1\n    },\n    {\n        x: 0,\n        y: -1\n    },\n    {\n        x: -1,\n        y: -1\n    },\n    {\n        x: -1,\n        y: 0\n    },\n    {\n        x: -1,\n        y: 1\n    },\n]\n\nconst KeyVisual = ({color, playState, padKey}) => {\n\n    const [animations, setAnimations] = useState(null)\n    const [circles, setCircles] = useState([])\n\n    const createCircles = () => {\n        let newCircles = []\n        directionalTranslates.forEach((translation, i) => {\n            newCircles = [...newCircles, <StyledKeyVisual key={i} color={color} playState={playState} className={`${padKey}-visual-${i}`}/>]\n        })\n        setCircles(newCircles)\n    }\n\n    useEffect(() => {\n        let newAnimations = []\n        directionalTranslates.forEach((translation, i) => {\n            newAnimations = [...newAnimations, anime({\n                targets: `div.${padKey}-visual-${i}`,\n                autoplay: false,\n                // backgroundColor: invert('#'+color).padStart(6,\"0\"),\n                borderRadius: '15%',\n                translateY:[\n                    {value: (translation.y * (distance + Math.floor(Math.random() * variance))), duration: 400},\n                ],\n                translateX:[\n                    {value: (translation.x * (distance + Math.floor(Math.random() * variance))), duration: 400}\n                ],\n                scale: [1, 4],\n                opacity: [\n                    {value: '0%', duration: 0},\n                    {value: '100%', duration: 45},\n                    {value: '30%', duration: 75},\n                    {value: '500%', duration: 165},\n                    {value: '100%', duration: 77},\n                    {value: '0%', duration: 6}\n                ],\n                direction: 'alternate',\n                easing: 'easeOutBounce'\n            })]\n        })\n        setAnimations(newAnimations)\n    }, [circles])\n\n\n    useEffect(() => {\n        if (playState) {\n            console.log(animations)\n            animations.forEach(animation => {\n                animation.restart()\n                animation.play()    \n            })\n        }\n    }, [playState])\n\n    useEffect(() =>{\n        createCircles()\n    }, [])\n\n    return(\n        <>\n            <div className=\"animation-container fireworks\">\n                {circles}\n            </div>\n        </>\n    )\n}\n\nexport default KeyVisual;"]},"metadata":{},"sourceType":"module"}